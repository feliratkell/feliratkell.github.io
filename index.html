<!-- index.html -->
<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Felirat látványtervező</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <h1>Felirat látványtervező</h1>

      <section class="panel">
        <h2>Fal háttér</h2>
        <label class="row">
          <span>Szín</span>
          <select id="wallColor">
            <option value="white" selected>Fehér</option>
            <option value="beige">Bézs</option>
            <option value="gray">Szürke</option>
            <option value="green">Zöld</option>
            <option value="pink">Rózsaszín</option>
          </select>
        </label>
        <p class="hint">Minden szín a <b>white.png</b> fal-maszkolt színezése (azonos kamera/kiegészítők).</p>
      </section>

      <section class="panel">
        <h2>Nagyítás / zoom</h2>
        <div class="row">
          <input id="zoom" type="range" min="1" max="3" step="0.01" value="1" />
          <div class="pill">
            <div class="pillTitle">Zoom</div>
            <div id="zoomLabel" class="pillValue">1.00×</div>
          </div>
        </div>
        <button id="resetView" class="btn">Reset</button>
        <p class="hint">Nagyításkor az <b>üres falon húzva</b> tudsz nézelődni (pan).</p>
      </section>

      <section class="panel">
        <h2>Kalibráció (komód = 70 cm)</h2>
        <button id="startCalib" class="btn">Kalibrálás indítása</button>
        <p class="hint">
          Lépés: húzd a felső jelölőt a komód tetejére, az alsót a komód aljára, majd „Mentés”.
          Alap esetben nincsenek vonalak / jelölők.
        </p>
        <div class="row">
          <div class="pill wide">
            <div class="pillTitle">Skála</div>
            <div id="pxPerCmLabel" class="pillValue">— px / cm</div>
          </div>
        </div>

        <div id="calibActions" class="row hidden">
          <button id="saveCalib" class="btn primary">Mentés</button>
          <button id="cancelCalib" class="btn ghost">Mégse</button>
        </div>
      </section>

      <section class="panel">
        <h2>Anyag</h2>
        <label class="row">
          <span>Felirat / minta</span>
          <select id="material">
            <option value="birch" selected>Natúr nyír rétegelt (4 mm)</option>
            <option value="hdf">Fehér HDF</option>
          </select>
        </label>
        <p class="hint">Nyír: világos barnás gravír (nem szürke). HDF: sötétszürke gravír (nem fekete).</p>
      </section>

      <section class="panel">
        <h2>Felirat</h2>
        <label class="stack">
          <span>Szöveg</span>
          <input id="textInput" type="text" value="Egyszer volt, hol nem volt..." />
        </label>

        <div class="row">
          <label class="stack grow">
            <span>Magasság (cm)</span>
            <input id="textCm" type="range" min="3" max="11" step="0.1" value="6" />
          </label>
          <div class="pill">
            <div class="pillTitle">Felirat</div>
            <div id="textCmLabel" class="pillValue">6.0 cm</div>
          </div>
        </div>

        <p class="hint">Fogd meg a feliratot és húzd. A méret valós cm-ben skálázódik a kalibráció alapján.</p>
      </section>

      <section class="panel">
        <h2>Minták</h2>
        <div class="row">
          <button id="addBirds" class="btn">Madarak hozzáadása</button>
          <button id="clearAll" class="btn ghost">Törlés</button>
        </div>
        <p class="hint">A minta ugyanazt az anyag-finish-t kapja, mint a felirat.</p>
      </section>

      <footer class="foot">
        <small>Fix alap: assets/backgrounds/white.png</small>
      </footer>
    </aside>

    <main class="stageWrap">
      <div id="stage" class="stage">
        <!-- a háttér itt canvas-szal renderelődik -->
        <canvas id="bgCanvas" class="bgCanvas"></canvas>

        <!-- overlay réteg: felirat + minták -->
        <div id="overlay" class="overlay">
          <div id="textObj" class="obj textObj" draggable="false">
            <div class="objInner" id="textInner">Egyszer volt, hol nem volt...</div>
          </div>
        </div>

        <!-- kalibráció jelölők -->
        <div id="calibLayer" class="calibLayer hidden">
          <div id="calibLine" class="calibLine"></div>
          <div id="calibTop" class="calibHandle">▲</div>
          <div id="calibBottom" class="calibHandle">▼</div>
        </div>
      </div>
    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
